# URL

## <a name="h2.1">不使用动词</a>

动作（操作）都是使用GET、POST、PUT、DELETE、PATCH等HTTP方法进行抽象，所以做什么样的操作的信息，干脆别让它出现在URL。

如果你这样做了，反而会给用户增加类似“到底在什么时候用get，什么时候用list，什么时候用fetch?“这种判断成本，这种得不偿失的做法简直是画蛇添足。

```javascript
// Evil!
/getPosts
/getUsers
/listPosts
/fetchAllComments
```

## <a name="h2.2">使用名词</a>

URI叫“统一资源标识符“，任何通过URI(URL)标识的“资源”显然是都是名词，不管它们是什么，都可以理解为继承了“资源”这个超类的各式各样的“子类”。

## <a name="h2.3">使用复数</a>

尽管第一印象中，用复数名词表示单数对象看上去很奇怪，但复数在很多场景下都被证明是最佳选择。

例如:
>当从一个博客系统中标识一个帖子对象的时候，帖子不可能只有一个。所以使用/posts/123这种URL非常符合逻辑，因为它表达“在多个帖子中选择编号为123的那个帖子”，

你设计的时候，没有必要把持久层（关系型数据库）的抽象原封不动地映射到API的设计上。

API和数据库层虽然都是对应用中的各种实体对象，以及它们的属性和行为进行抽象，但数据库和API是完成不同的职责，也与不同职责的分层的进行通信。理清当前上下文的职责是什么，边界在哪里是在任何一项软件设计工作中都是重点和难点，同时那是你的工作！

一律使用复数名词，同时也可以避免API文档的查阅者产生“什么时候是单数，什么时候是复数？”的疑惑。

>people这种名词出现在API的URL上，会让使用者困惑到底是“人”还是“人民”。当你系统中既出现“人“的抽象，同时也出现”人民“的抽象的时候，为了减少双方的麻烦，你可以考虑牺牲英语中精确的词法，来换API表达的直观和易懂。遇到单数和复数是以特殊方式出现在英语词法中的名词时，你需要非常谨慎。

```javascript
// Good!
/blogs/123/posts/123/comments/456
/users/123/posts/123
```


## <a name="h2.4">关系描述</a>

关系可以用如下URL的组织方式表达。

```javascript
// 下方两个URL中只出现了两种相同的实体对象，但两种URL表达的含义是不一样的。
/tags/456/posts // 列出拥有456号标签的所有帖子。
/posts/123/tags // 列出编号为123的帖子的所有标签。
```

我们每天都在使用的域名也是这种方式组织信息的。只不过域名是从后到前缩小领域，URL是从前到后缩小领域。

>news.baidu.com: 所有商业网站中的，百度公司的，新闻频道。

希望上面这个域名语义拆解，对你有帮助。

在实际应用中，很多复杂的关系是没有办法使用这种简单的办法表达出来，只能借助HTTP的Body内容来描述。

见[利用Body内容描述关系](#h3.7)


## <a name="h2.5">不使用修饰词</a>

不要对资源实体对象进行修饰描述。

如果没有这项限制，你很难阻止你的团队的成员在将来定义出postItems、postEntitis、commentObjects等千奇百怪的命名，最后导致你的团队成员们对实体对象的命名没办法有稳定的预期。

```javascript
// Evil!
/usersList // List是废话，应为/users
/tagItems // Items是废话，应为/tags
```
