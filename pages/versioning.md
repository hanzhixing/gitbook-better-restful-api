# 版本化
版本化会为你将来的重构、升级、并存等创造条件。

当然同时需要利用对域名的良好的命名为不同类型的资源划分好领域。

版本规范见[Semantic Versioning 2.0.0](http://semver.org/)。

API对任何客户端，在分层上都是偏“底层”的“数据源”层。不大可能在双方没有预定的情况下随意增加删除字段。

但它们是也和任何一种程序一样，不可能永远不变。随着时间的推移，一定会需要升级更新。

版本化为API的平滑重构、流量控制、多版本适配提供很多便利。同时也为API的用户提供方便。

```javascript
// MAJOR位前置
/rest/v1/...
/api/v3/...
// 除了MAJOR位，还想要MINOR和PATCH位，最好使用query参数.
/rest/v1/posts/123?_ver=v1.1.0
/rest/v1/posts/123?_ver=v1.1.5
```

API的升级更多是MINOR和PATCH版本。因此，_ver=vX.Y.Z方案更好一些。

需要注意的是，API的版本不是服务端应用的版本，而是API的协议和Schema层面的版本。

API的协议和Schema都没有变，但因为服务端的架构改变而升级MAJOR是不对的做法。
